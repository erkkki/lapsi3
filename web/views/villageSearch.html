
<div class="btn-group">
  <a class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="#">
    {{servername}}
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu">
      <li><a ng-repeat="server in servers" href="#/travian/{{server.address}}">
            {{server.address}}
          </a>
      </li>
  </ul>
</div>
<div class="input-prepend" style="margin-top:10px;">
  <span class="add-on">X</span>
  <input class="input-mini" type="number" ng-model="opt.x" ng-change="search()" min="-400" max="400" placeholder="{{opt.x}}">
</div>
<div class="input-prepend" style="margin-top:10px;">
  <span class="add-on">Y</span>
  <input class="input-mini" type="number" ng-model="opt.y" ng-change="search()" min="-400" max="400" placeholder="{{opt.y}}">
</div>

<div class="input-append" style="margin-top:10px;">
  <input class="span2" id="appendedInputButtons" type="text" ng-model="player" 
         ng-change="searchPlayer(player)" typeahead="players as players for players in psearch | filter:$viewValue">
  <button class="btn" type="button" ng-click="addplayer(player)">Add player</button>
</div>

<div class="input-append" style="margin-top:10px;">
  <input class="span2" id="appendedInputButtons" type="text" ng-model="guild" 
         ng-change="searchGuild(guild)" typeahead="guilds as guilds for guilds in gsearch | filter:$viewValue">
  <button class="btn" type="button" ng-click="addguild(guild)">Add Guild</button>
</div>

<div class="btn-group">
  <button class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="#">
    Limit
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
      <li><a ng-click="setVilCount(20)">20</a></li>
      <li><a ng-click="setVilCount(40)">40</a></li>
      <li><a ng-click="setVilCount(60)">60</a></li>
      <li><a ng-click="setVilCount(80)">80</a></li>
      <li><a ng-click="setVilCount(100)">100</a></li>
  </ul>
</div>

<button class="btn btn-info" ng-click="showPlayerCol()">Settings</button>



<div collapse="settings">
    <div class="row-fluid">
      <div class="span12">
        <div class="row-fluid">
          <div class="span6">
            <div class="row-fluid">   
              <div class="span12">
                <legend>Players</legend>
                <div class="inline">
                  <div class="btn-group">
                    <button class="btn btn-info {{players.hide}}" ng-click="onlyPlayers()">Hide selected</button>
                    <button class="btn btn-info {{players.show}}" ng-click="onlyPlayers()">Show only selected</button>
                  </div>
                </div>
                <ul class="inline" style="margin-top:10px;">
                  <li ng-repeat="player in opt.notPlayers | orderBy:'name'">
                  <p>
                    <button class="btn btn-small btn-danger" style="margin-bottom: 5px;" ng-click="rPinArray(player)"><i class="icon-remove"></i> {{player.name}}</button>
                  </p>
                  </li>
                </ul>
              </div>                
            </div>
            <div class="row-fluid">
              <div class="span12">
                <legend>Guilds</legend>
                <div class="inline">
                  <div class="btn-group">
                    <button class="btn btn-info {{guilds.hide}}" ng-click="onlyGuilds()">Hide selected</button>
                    <button class="btn btn-info {{guilds.show}}" ng-click="onlyGuilds()">Show only selected</button>
                  </div>
                </div>
                <ul class="inline" style="margin-top:10px;">
                  <li ng-repeat="guild in opt.notGuilds | orderBy:'name'">
                    <p>
                    <button class="btn btn-small btn-danger" style="margin-bottom: 5px;" ng-click="rGuildinArray(guild)"><i class="icon-remove"></i> {{guild.name}}</button>
                    </p>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="span6">      
            <div class="row-fluid">      
              <div class="span12">    
                <legend>Population limits</legend>
                  <form class="form-horizontal">
                    <div class="control-group">
                      <label class="control-label">Village population</label>
                      <div class="controls">
                        <div class="input-prepend">
                          <span class="add-on">Min</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.vilminpop" min="0" max="1999" type="number">
                        </div>
                        <div class="input-prepend">
                          <span class="add-on">Max</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.vilmaxpop" min="1" max="2000" type="number">
                        </div>
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label">Account population</label>
                      <div class="controls">
                        <div class="input-prepend">
                          <span class="add-on">Min</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.accominpop" min="0" max="99999" type="number">
                        </div>
                        <div class="input-prepend">
                          <span class="add-on">Max</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.accomaxpop" min="1" max="100000" type="number">
                        </div>
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label">Village count</label>
                      <div class="controls">
                        <div class="input-prepend">
                          <span class="add-on">Min</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.vilcountmin" min="1" max="99" type="number">
                        </div>
                        <div class="input-prepend">
                          <span class="add-on">Max</span>
                          <input class="input-small" id="prependedInput" ng-model="opt.vilcountmax" min="2" max="200" type="number">
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              <div class="row-fluid">
                <div class="span12">
                  <legend>Race selection</legend>
                  <div class="btn-group">
                    <button class="btn" ng-class="getTribeClass('1')" type="button" ng-click="rtribe(1)">{{opt.1}} Romans</button>
                    <button class="btn" ng-class="getTribeClass('2')" type="button" ng-click="rtribe(2)">{{opt.2}} Teutons</button>
                    <button class="btn" ng-class="getTribeClass('3')" type="button" ng-click="rtribe(3)">{{opt.3}} Gauls</button>
                    <button class="btn" ng-class="getTribeClass('5')" type="button" ng-click="rtribe(5)">{{opt.5}} Natars</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

   
    
    <!--
    <pre>{{villages | json}}</pre>
    
    <br>
      <a href="#removeRaces" role="button" class="btn" data-toggle="modal">Hide/Show Tribe</a>
    <br>-->
<!-- end of test etc -->


<div collapse="result">
    <div style="margin-top: 20px;">
        <table class="table table-condensed table-bordered table-hover">
          <thead>
            <tr>
                <th ng-click="back()" style="width: 10px;"><i class="icon-chevron-left"></i></th>
                <th ng-click="orderby('dist')" style="width: 40px;">Distance</th>
                <th style="width: 60px;">X.Y</th>
                <th ng-click="orderby('population')" style="width: 40px;">Pop</th>
                <th ng-click="orderby('village')" style="width: 200px;">Village name</th>
                <th ng-click="orderby('player')">Account</th>
                <th ng-click="orderby('uidPopulation')">Account pop</th>
                <th>Idle time</th>
                <th ng-click="orderby('villagecount')">Village count</th>
                <th ng-click="orderby('alliance')">Guild</th>
                <th ng-click="next()" style="width: 25px;"><i class="icon-chevron-right"></i></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="villages in villages">
                <td><i class="icon-chevron-down"></i></td>
                <td>{{villages.dist}}</td>
                <td>({{villages.x}}|{{villages.y}})</td>
                <td>{{villages.population}}</td>
                <td>{{villages.village}}</td>
                <td>{{villages.player}}<i class="icon-plus pull-right" ng-click="removePlayer(villages.uid,villages.player)"></i></td>
                <td>{{villages.uidPopulation}}</td>
                <td>{{villages.idle}}</td>
                <td>{{villages.villagecount}}</td>
                <td>{{villages.alliance}}<i class="icon-plus pull-right" ng-click="removeGuild(villages.aid,villages.alliance)"></i></td>
                <td><img class="type{{villages.tid}}" src="img/img_trans.gif"/></td>
            </tr>
          </tbody>
        </table>
    </div>
</div>